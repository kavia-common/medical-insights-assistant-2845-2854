{"is_source_file": true, "format": "Python", "description": "This file defines a Python class FilesRepository for handling file operations such as reading and writing files within specific base directories, ensuring safe file path handling to prevent path traversal attacks.", "external_files": ["os", "../core/config"], "external_methods": ["get_settings"], "published": ["files_repo"], "classes": [{"name": "FilesRepository", "description": "A repository class for managing file read/write operations, supporting both OneDrive-synced and local storage paths."}], "methods": [{"name": "str _safe_join(base: str, relative_path: str)", "description": "Combines a base path and a relative path safely, preventing path traversal.", "scope": "", "scopeKind": ""}, {"name": "None __init__(self)", "description": "Initializes a FilesRepository instance, fetching configuration settings.", "scope": "FilesRepository", "scopeKind": "class"}, {"name": "Tuple[str,str] read(self, relative_path: str, use_onedrive: bool = True)", "description": "Reads text content from a specified file, with optional use of OneDrive directory.", "scope": "FilesRepository", "scopeKind": "class"}, {"name": "str write(self, relative_path: str, content: str, use_onedrive: bool = True)", "description": "Writes text content to a specified file, with optional use of OneDrive directory.", "scope": "FilesRepository", "scopeKind": "class"}], "calls": ["os.path.join", "os.path.normpath", "os.path.abspath", "get_settings", "open", "os.makedirs"], "search-terms": ["FilesRepository", "safe path join", "read/write file", "OneDrive storage", "local storage"], "state": 2, "file_id": 11, "knowledge_revision": 24, "git_revision": "", "ctags": [{"_type": "tag", "name": "FilesRepository", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/repositories/files_repo.py", "pattern": "/^class FilesRepository:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/repositories/files_repo.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "FilesRepository", "scopeKind": "class"}, {"_type": "tag", "name": "_safe_join", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/repositories/files_repo.py", "pattern": "/^def _safe_join(base: str, relative_path: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(base: str, relative_path: str)"}, {"_type": "tag", "name": "files_repo", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/repositories/files_repo.py", "pattern": "/^files_repo = FilesRepository()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "read", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/repositories/files_repo.py", "pattern": "/^    def read(self, relative_path: str, use_onedrive: bool = True) -> Tuple[str, str]:$/", "language": "Python", "typeref": "typename:Tuple[str,str]", "kind": "member", "signature": "(self, relative_path: str, use_onedrive: bool = True)", "scope": "FilesRepository", "scopeKind": "class"}, {"_type": "tag", "name": "write", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/repositories/files_repo.py", "pattern": "/^    def write(self, relative_path: str, content: str, use_onedrive: bool = True) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self, relative_path: str, content: str, use_onedrive: bool = True)", "scope": "FilesRepository", "scopeKind": "class"}], "hash": "fe92dff525070add853c56507df3df7d", "format-version": 4, "code-base-name": "medical_backend", "filename": "medical_backend/src/api/repositories/files_repo.py", "fields": [{"name": "files_repo = FilesRepository()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"24": ""}]}