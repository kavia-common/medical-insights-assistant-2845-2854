{"is_source_file": true, "format": "Python", "description": "This file defines data models and schemas for a medical insights assistant backend, including patient records, interview sessions, chat turns, and file management operations using Pydantic models.", "external_files": ["pydantic", "datetime", "typing"], "external_methods": ["datetime.utcnow"], "published": ["PatientBase", "PatientCreate", "PatientUpdate", "Patient", "InterviewCreate", "Interview", "ChatTurn", "AdvisorRequest", "AdvisorSuggestion", "FileWriteRequest", "FileReadResponse", "OperationStatus"], "classes": [{"name": "PatientBase", "description": "Base class for patient information with core fields."}, {"name": "PatientCreate", "description": "Schema for creating new patient entries, inherits PatientBase."}, {"name": "PatientUpdate", "description": "Schema for updating existing patient details."}, {"name": "Patient", "description": "Full patient record including identifiers and timestamps."}, {"name": "InterviewCreate", "description": "Payload for creating a new interview linked to a patient."}, {"name": "Interview", "description": "Complete interview record with transcript history."}, {"name": "ChatTurn", "description": "Represents a single message turn in the interview chat."}, {"name": "AdvisorRequest", "description": "Request model for obtaining advisor suggestions."}, {"name": "AdvisorSuggestion", "description": "Response model representing advice recommendations with confidence and citations."}, {"name": "FileWriteRequest", "description": "Schema for requesting file writing operations."}, {"name": "FileReadResponse", "description": "Schema for responses when reading a file."}, {"name": "OperationStatus", "description": "Standard status reporting schema."}], "methods": [{"name": "datetime.utcnow", "description": "Gets the current UTC date and time."}], "calls": ["datetime.utcnow"], "search-terms": ["schemas", "pydantic models", "medical backend", "interview transcript", "patient schema", "advisor suggestions"], "state": 2, "file_id": 8, "knowledge_revision": 18, "git_revision": "", "ctags": [{"_type": "tag", "name": "AdvisorRequest", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class AdvisorRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AdvisorSuggestion", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class AdvisorSuggestion(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ChatTurn", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class ChatTurn(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "FileReadResponse", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class FileReadResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "FileWriteRequest", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class FileWriteRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Interview", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class Interview(InterviewCreate):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "InterviewCreate", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class InterviewCreate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "OperationStatus", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class OperationStatus(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Patient", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class Patient(PatientBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PatientBase", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class PatientBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PatientCreate", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class PatientCreate(PatientBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PatientUpdate", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^class PatientUpdate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "age", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    age: Optional[int] = Field(None, ge=0)$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "PatientUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "age", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    age: Optional[int] = Field(None, ge=0, description=\"Age in years\")$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "PatientBase", "scopeKind": "class"}, {"_type": "tag", "name": "chief_complaint", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    chief_complaint: Optional[str] = Field(None, description=\"Chief complaint\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "InterviewCreate", "scopeKind": "class"}, {"_type": "tag", "name": "citations", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    citations: List[str] = Field(default_factory=list, description=\"References\\/citations\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "AdvisorSuggestion", "scopeKind": "class"}, {"_type": "tag", "name": "confidence", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    confidence: float = Field(0.5, ge=0, le=1, description=\"Confidence score 0..1\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "AdvisorSuggestion", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    content: str = Field(..., description=\"Message content\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ChatTurn", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    content: str = Field(..., description=\"Text content to write\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "FileWriteRequest", "scopeKind": "class"}, {"_type": "tag", "name": "context", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    context: Optional[Dict[str, Any]] = Field(default_factory=dict, description=\"Additional cont/", "language": "Python", "typeref": "typename:Optional[Dict[str, Any]]", "kind": "variable", "scope": "InterviewCreate", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    created_at: datetime = Field(..., description=\"Creation timestamp\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "Interview", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    created_at: datetime = Field(..., description=\"Creation timestamp\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "Patient", "scopeKind": "class"}, {"_type": "tag", "name": "detail", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    detail: Optional[str] = Field(None, description=\"Additional info\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "OperationStatus", "scopeKind": "class"}, {"_type": "tag", "name": "first_name", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    first_name: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PatientUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "first_name", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    first_name: str = Field(..., description=\"Patient first name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "PatientBase", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    id: str = Field(..., description=\"Interview session ID\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Interview", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    id: str = Field(..., description=\"Unique patient identifier\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Patient", "scopeKind": "class"}, {"_type": "tag", "name": "interview_id", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    interview_id: str = Field(..., description=\"Interview ID to analyze\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "AdvisorRequest", "scopeKind": "class"}, {"_type": "tag", "name": "last_name", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    last_name: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PatientUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "last_name", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    last_name: str = Field(..., description=\"Patient last name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "PatientBase", "scopeKind": "class"}, {"_type": "tag", "name": "max_items", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    max_items: int = Field(3, ge=1, le=10, description=\"Max number of suggestions\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "AdvisorRequest", "scopeKind": "class"}, {"_type": "tag", "name": "mrn", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    mrn: Optional[str] = Field(None, description=\"Medical Record Number\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PatientBase", "scopeKind": "class"}, {"_type": "tag", "name": "mrn", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    mrn: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PatientUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "patient_id", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    patient_id: str = Field(..., description=\"Associated patient ID\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "InterviewCreate", "scopeKind": "class"}, {"_type": "tag", "name": "rationale", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    rationale: str = Field(..., description=\"Why this suggestion\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "AdvisorSuggestion", "scopeKind": "class"}, {"_type": "tag", "name": "relative_path", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    relative_path: str = Field(..., description=\"Path under base folder\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "FileWriteRequest", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    role: str = Field(..., description=\"agent|patient|advisor\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ChatTurn", "scopeKind": "class"}, {"_type": "tag", "name": "sex", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    sex: Optional[str] = Field(None, description=\"Sex\\/Gender of patient\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PatientBase", "scopeKind": "class"}, {"_type": "tag", "name": "sex", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    sex: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PatientUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    status: str = Field(..., description=\"ok|error\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "OperationStatus", "scopeKind": "class"}, {"_type": "tag", "name": "timestamp", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    timestamp: datetime = Field(default_factory=datetime.utcnow, description=\"Timestamp UTC\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "ChatTurn", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    title: str = Field(..., description=\"Suggestion title\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "AdvisorSuggestion", "scopeKind": "class"}, {"_type": "tag", "name": "transcript", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    transcript: List[Dict[str, Any]] = Field(default_factory=list, description=\"Q&A transcript e/", "language": "Python", "typeref": "typename:List[Dict[str, Any]]", "kind": "variable", "scope": "Interview", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    updated_at: datetime = Field(..., description=\"Last update timestamp\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "Interview", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/models/schemas.py", "pattern": "/^    updated_at: datetime = Field(..., description=\"Last update timestamp\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "Patient", "scopeKind": "class"}], "hash": "50d7698abd69b40d2a8d7c4b9d1c52ce", "format-version": 4, "code-base-name": "medical_backend", "filename": "medical_backend/src/api/models/schemas.py", "fields": [{"name": "Optional[int] age", "scope": "PatientUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] chief_complaint", "scope": "InterviewCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] citations", "scope": "AdvisorSuggestion", "scopeKind": "class", "description": "unavailable"}, {"name": "float confidence", "scope": "AdvisorSuggestion", "scopeKind": "class", "description": "unavailable"}, {"name": "str content", "scope": "ChatTurn", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[Dict[str, Any]] context", "scope": "InterviewCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime created_at", "scope": "Interview", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] detail", "scope": "OperationStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] first_name", "scope": "PatientUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str first_name", "scope": "PatientBase", "scopeKind": "class", "description": "unavailable"}, {"name": "str id", "scope": "Interview", "scopeKind": "class", "description": "unavailable"}, {"name": "str interview_id", "scope": "AdvisorRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] last_name", "scope": "PatientUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str last_name", "scope": "PatientBase", "scopeKind": "class", "description": "unavailable"}, {"name": "int max_items", "scope": "AdvisorRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] mrn", "scope": "PatientBase", "scopeKind": "class", "description": "unavailable"}, {"name": "str patient_id", "scope": "InterviewCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "str rationale", "scope": "AdvisorSuggestion", "scopeKind": "class", "description": "unavailable"}, {"name": "str relative_path", "scope": "FileWriteRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str role", "scope": "ChatTurn", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] sex", "scope": "PatientBase", "scopeKind": "class", "description": "unavailable"}, {"name": "str status", "scope": "OperationStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime timestamp", "scope": "ChatTurn", "scopeKind": "class", "description": "unavailable"}, {"name": "str title", "scope": "AdvisorSuggestion", "scopeKind": "class", "description": "unavailable"}, {"name": "List[Dict[str, Any]] transcript", "scope": "Interview", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime updated_at", "scope": "Interview", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"18": ""}]}