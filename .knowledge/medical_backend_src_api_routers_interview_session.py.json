{"is_source_file": true, "format": "Python", "description": "This file defines FastAPI route handlers for managing interview sessions, including starting a session, submitting answers, and ending the session. It includes data models for request payloads and interacts with an external service for business logic.", "external_files": ["../services/interview_session_service"], "external_methods": ["interview_session_service.start_session", "interview_session_service.submit_answer", "interview_session_service.end_session"], "published": ["start_session", "submit_answer", "end_session"], "classes": [{"name": "StartSessionRequest", "description": "Data model representing the request body for starting an interview session."}, {"name": "AnswerRequest", "description": "Data model representing the request body for submitting an answer during an interview session."}], "methods": [{"name": "Dict[str,Any] start_session( patient_id: str = Path(..., description=\"Target patient id\"), payload: StartSessionRequest = Body(default_factory=StartSessionRequest), )", "description": "Handles HTTP POST requests to initiate a new interview session for a patient, calling the external service and handling exceptions.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] submit_answer( patient_id: str = Path(..., description=\"Target patient id\"), payload: AnswerRequest = Body(...), )", "description": "Handles HTTP POST requests to submit a patient's answer and retrieve the next question(s), with error handling.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] end_session( patient_id: str = Path(..., description=\"Target patient id\"), )", "description": "Handles HTTP POST requests to end an interview session and store the transcript, with exception handling.", "scope": "", "scopeKind": ""}], "calls": ["interview_session_service.start_session", "interview_session_service.submit_answer", "interview_session_service.end_session"], "search-terms": ["fastapi", "interview_session", "routes", "API router", "session management", "medical", "interview", "patient"], "state": 2, "file_id": 24, "knowledge_revision": 73, "git_revision": "", "ctags": [{"_type": "tag", "name": "AnswerRequest", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interview_session.py", "pattern": "/^class AnswerRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "StartSessionRequest", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interview_session.py", "pattern": "/^class StartSessionRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "answer", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interview_session.py", "pattern": "/^    answer: str = Field(..., description=\"Patient's natural language response.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "AnswerRequest", "scopeKind": "class"}, {"_type": "tag", "name": "chief_complaint", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interview_session.py", "pattern": "/^    chief_complaint: Optional[str] = Field(None, description=\"Chief complaint to seed interview./", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "StartSessionRequest", "scopeKind": "class"}, {"_type": "tag", "name": "context", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interview_session.py", "pattern": "/^    context: Optional[Dict[str, Any]] = Field(default_factory=dict, description=\"Additional cont/", "language": "Python", "typeref": "typename:Optional[Dict[str, Any]]", "kind": "variable", "scope": "StartSessionRequest", "scopeKind": "class"}, {"_type": "tag", "name": "end_session", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interview_session.py", "pattern": "/^async def end_session($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( patient_id: str = Path(..., description=\"Target patient id\"), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interview_session.py", "pattern": "/^router = APIRouter(prefix=\"\\/interview-session\", tags=[\"interviews\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "start_session", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interview_session.py", "pattern": "/^async def start_session($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( patient_id: str = Path(..., description=\"Target patient id\"), payload: StartSessionRequest = Body(default_factory=StartSessionRequest), )"}, {"_type": "tag", "name": "submit_answer", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interview_session.py", "pattern": "/^async def submit_answer($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( patient_id: str = Path(..., description=\"Target patient id\"), payload: AnswerRequest = Body(...), )"}], "hash": "9214f32b55eec98968f18870d929b674", "format-version": 4, "code-base-name": "medical_backend", "filename": "medical_backend/src/api/routers/interview_session.py", "fields": [{"name": "str answer", "scope": "AnswerRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] chief_complaint", "scope": "StartSessionRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[Dict[str, Any]] context", "scope": "StartSessionRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/interview-session\", tags=[\"interviews\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"73": ""}]}