{"is_source_file": true, "format": "Python", "description": "This file defines API routes for managing interview text files within a medical insights backend. It uses FastAPI to expose endpoints that allow saving, retrieving, deleting, and running an advisor on interview texts associated with patient IDs. The endpoints interact with external services and repositories to perform file operations and orchestrate advisor executions.", "external_files": ["../models/schemas", "../repositories/interview_files_repo", "../services/orchestrator"], "external_methods": ["interview_files_repo.write_text", "interview_files_repo.exists", "interview_files_repo.read_text", "interview_files_repo.delete", "orchestrator.run_advisor_on_text"], "published": ["save_interview_text", "get_interview_text", "delete_interview_text", "run_advisor_on_file"], "classes": [], "methods": [{"name": "OperationStatus save_interview_text( patient_id: str = Path(..., description=\"Patient ID used as filename\"), content: str = Body(..., embed=True, description=\"Full interview text to store\"), )", "description": "Handles POST requests to save interview text for a patient. It writes the provided text to storage and returns an operation status.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,str] get_interview_text(patient_id: str = Path(..., description=\"Patient ID (filename without extension)\"))", "description": "Handles GET requests to retrieve interview text for a patient. It fetches the text from storage and returns it as a dictionary.", "scope": "", "scopeKind": ""}, {"name": "OperationStatus delete_interview_text(patient_id: str = Path(..., description=\"Patient ID (filename without extension)\"))", "description": "Handles DELETE requests to remove interview text files for a patient.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,object] run_advisor_on_file( patient_id: str = Path(..., description=\"Patient ID (filename without extension)\"), max_items: int = 3, )", "description": "Handles POST requests to run a medical advisor agent on the interview text stored for a patient, executing asynchronously.", "scope": "", "scopeKind": ""}], "calls": ["interview_files_repo.write_text", "interview_files_repo.exists", "interview_files_repo.read_text", "interview_files_repo.delete", "orchestrator.run_advisor_on_text"], "search-terms": ["interview_files_repo", "run_advisor_on_text", "api/routers/interviews.py", "medical_backend"], "state": 2, "file_id": 16, "knowledge_revision": 75, "git_revision": "b79944e2b69e2c80a64ab3970f403c02c63caa5d", "revision_history": [{"34": ""}, {"61": "0e2108f3564d1a36b6b0fd9a36811e042a466914"}, {"75": "b79944e2b69e2c80a64ab3970f403c02c63caa5d"}], "ctags": [{"_type": "tag", "name": "delete_interview_text", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interviews.py", "pattern": "/^def delete_interview_text(patient_id: str = Path(..., description=\"Patient ID (filename without /", "language": "Python", "typeref": "typename:OperationStatus", "kind": "function", "signature": "(patient_id: str = Path(..., description=\"Patient ID (filename without extension)\"))"}, {"_type": "tag", "name": "get_interview_text", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interviews.py", "pattern": "/^def get_interview_text(patient_id: str = Path(..., description=\"Patient ID (filename without ext/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "(patient_id: str = Path(..., description=\"Patient ID (filename without extension)\"))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interviews.py", "pattern": "/^router = APIRouter(prefix=\"\\/interviews\", tags=[\"interviews\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "run_advisor_on_file", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interviews.py", "pattern": "/^async def run_advisor_on_file($/", "language": "Python", "typeref": "typename:Dict[str,object]", "kind": "function", "signature": "( patient_id: str = Path(..., description=\"Patient ID (filename without extension)\"), max_items: int = 3, )"}, {"_type": "tag", "name": "save_interview_text", "path": "/home/kavia/workspace/code-generation/medical-insights-assistant-2845-2854/medical_backend/src/api/routers/interviews.py", "pattern": "/^def save_interview_text($/", "language": "Python", "typeref": "typename:OperationStatus", "kind": "function", "signature": "( patient_id: str = Path(..., description=\"Patient ID used as filename\"), content: str = Body(..., embed=True, description=\"Full interview text to store\"), )"}], "hash": "6048e17c1c9b8a26ca1c824e82aebe82", "format-version": 4, "code-base-name": "medical_backend", "filename": "medical_backend/src/api/routers/interviews.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/interviews\", tags=[\"interviews\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}